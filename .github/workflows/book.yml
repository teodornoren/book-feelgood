name: Book activities
on:
  workflow_dispatch:

  repository_dispatch:
    types: [ book ]

jobs:
  book:
    runs-on: [self-hosted, KAV]
    steps:
      - uses: actions/checkout@v3
      
      - name: Run booking action t
        run: >
            python3 source/book.py 
            --username ${{ secrets.FEELGOOD_USER }} 
            --password ${{ secrets.FEELGOOD_PW }} 
            --activities_file t

      - name: Run booking action a
        run: >
          python3 source/book.py 
          --username ${{ secrets.EXTRA_USER }} 
          --password ${{ secrets.EXTRA_PW }} 
          --activities_file a
