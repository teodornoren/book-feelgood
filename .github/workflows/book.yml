name: Book activities
on:
  workflow_dispatch:

  repository_dispatch:
    types: [ book ]

env: 
  LOGURU_LEVEL: SUCCESS

jobs:
  book:
    runs-on: [self-hosted, KAV]

    steps:
      - uses: actions/checkout@v3

      - name: install requirements
        run: python3 -m pip install -r source/requirements.txt

      - name: Run booking action t
        run: >
          python3 source/book.py 
          --username ${{ secrets.FEELGOOD_USER }} 
          --password ${{ secrets.FEELGOOD_PW }} 
          --activities_file t

      # - name: Run booking action a
      #   run: >
      #     python3 source/book.py 
      #     --username ${{ secrets.EXTRA_USER }} 
      #     --password ${{ secrets.EXTRA_PW }} 
      #     --activities_file a
